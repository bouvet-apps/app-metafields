<!DOCTYPE html>
<html lang="en" dir="ltr">
	<head>
		<meta charset="utf-8">
		<title>SEO Metafields</title>
		<link rel="stylesheet" type="text/css" data-th-href="${assetsUrl + '/css/widget.css'}">
	</head>
<!--
	Now:
	TODO: Refactoring of code in JS ... don't duplicate from other files. Perhaps create entire ojects in local.js?
	TODO: Add some minor intro text (possible to minimize) at the top?
	TODO: Link to Twitter/FB debuggers in a way so that the end-URL is sent to them.
	BUG: If more than one site present, getSite() will only get the first one. Make sure to get current site!
	BUG: If more than one site present, clicking one without SEO Metafield app will still trigger the widget and generate data. This should be turned off!


	Future:
	TODO: Somehow piece together the full end-URL (respecting vhost) instead of showing the admin-url. Currently not possible in XP to get "end URL" with code as code is not aware of server config.
	TODO: Don't spawn anything for content without templates, folders, images, etc. Gives no meaning.
	TODO: Perhaps add (?) icons with info for each data.
	TODO: Possibility to click title, desc, image and see the water fall logic and where data is found?
	TODO: Grade each data based on amount of text etc. Red, yellow, green. And info about it (best-practise).
-->
	<body>
		<p class="seo-info-box">
			The app SEO Metafields help you generate meta-data that improves SEO and social media sharing. For this specific content/page, the following data is extracted by the app. Keep scrolling to see what data Facebook and Twitter will find.
		</p>
		<div class="seo-table">
			<h2>Summary</h2>
			<dl>
				<dt>Block robots</dt>
				<dd>
					<p data-th-if="${summary.blockRobots}" data-th-text="'Search engines are being blocked!'" class="warning"></p>
					<p data-th-unless="${summary.blockRobots}" data-th-text="'Nope =)'" class="message-empty"></p>
				</dd>
				<dt>SEO title</dt>
				<dd data-th-text="${summary.fullTitle}"></dd>
				<dt>Meta Description</dt>
				<dd>
					<p data-th-if="${summary.description}" data-th-text="${summary.description}"></p>
					<p data-th-unless="${summary.description}" class="message-empty">
						No description found!
					</p>
				</dd>
				<dt>Image</dt>
				<dd>
					<div data-th-if="${summary.image}">
						<img data-th-src="${summary.image}" />
					</div>
					<div data-th-unless="${summary.image}" class="message-empty">
						No image found!
					</div>
				</dd>
				<dt>Canonical URL</dt>
				<dd>
					<p data-th-if="${summary.canonical}" data-th-text="${'[SITE_URL]' + summary.canonical}"></p>
					<p data-th-unless="${summary.canonical}" class="message-empty">
						Canonical not activated!
					</p>
				</dd>
			</dl>
		</div>
		<p class="seo-info-box">
			The following is the exact data Facebook (and LinkedIn), and Twitter (if activated) will find on this specific page. Data not present is not set and thus not sent.<br />
			<strong>Tip:</strong> Hover any of the labels to see the meta-tag being used.
		</p>
		<div class="seo-table compact">
			<h2>Facebook <small>(open graph)</small></h2>
			<dl>
				<dt title="&lt;og:site_name&gt;">Site name</dt>
				<dd data-th-text="${og.siteName}">x</dd>
				<dt title="&lt;og:type&gt;">Type</dt>
				<dd data-th-text="${og.type}">x</dd>
				<dt title="&lt;og:locale&gt;">Locale</dt>
				<dd data-th-text="${og.locale}">x</dd>
				<dt title="&lt;og:title&gt;">Title</dt>
				<dd data-th-text="${og.title}">x</dd>
				<div data-th-remove="tag" data-th-if="${og.description}">
					<dt title="&lt;og:description&gt;">Description</dt>
					<dd data-th-text="${og.description}">x</dd>
				</div>
				<dt title="&lt;og:url&gt;">Url</dt>
				<dd data-th-text="${'[SITE_URL]' + og.url}">x</dd>
				<dt title="&lt;og:image&gt;">Image</dt>
				<dd>
					<div data-th-if="${og.image}">
						<img data-th-src="${og.image.src}" /><br />
						<p title="&lt;og:image:width&gt; and &lt;og:image:height&gt;">
							<span data-th-text="${og.image.width}">x</span>x<span data-th-text="${og.image.height}">x</span>
						</p>
					</div>
					<div data-th-unless="${og.image}" class="message-empty">
						No image used!
					</div>
				</dd>
			</dl>
			<p class="center">
				<a href="https://developers.facebook.com/tools/debug/sharing/" target="_blank">Preview page from Facebook</a>
			</p>
		</div>
		<div class="seo-table compact">
			<h2>Twitter Cards</h2>
			<dl data-th-if="${twitter.active}">
				<dt title="&lt;twitter:card&gt;">Card</dt>
				<dd>summary_large_image</dd>
				<dt title="&lt;twitter:site&gt;">Site</dt>
				<dd data-th-text="${twitter.site}">x</dd>
				<dt title="&lt;twitter:title&gt;">Title</dt>
				<dd data-th-text="${twitter.title}">x</dd>
				<div data-th-remove="tag" data-th-if="${twitter.description}">
					<dt title="&lt;twitter:description&gt;">Description</dt>
					<dd data-th-text="${twitter.description}">x</dd>
				</div>
				<dt title="&lt;twitter:image:src&gt;">Image</dt>
				<dd>
					<div data-th-if="${twitter.image}">
						<img data-th-src="${twitter.image}" />
					</div>
					<div data-th-unless="${twitter.image}" class="message-empty">
						No image used!
					</div>
				</dd>
			</dl>
			<p data-th-if="${twitter.active}" class="center">
				<a href="https://cards-dev.twitter.com/validator" target="_blank">Preview page on Twitter</a>
			</p>
			<p data-th-unless="${twitter.active}" class="center">
				Twitter cards are not activated!
			</p>
		</div>
	</body>
</html>
